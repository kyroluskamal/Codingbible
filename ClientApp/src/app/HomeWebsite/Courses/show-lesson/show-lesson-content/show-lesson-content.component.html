<app-home-nav-menu [LocationName]="'courses'"></app-home-nav-menu>
<basic-skeleton [Body]="AllCategories"></basic-skeleton>
<ng-template #AllCategories>
    <ng-container *ngIf="loading else notLoading">
        <section class="coding-bible-card">
            <page-title-placeholder></page-title-placeholder>
            <br>
            <page-title-placeholder></page-title-placeholder>
            <br>
            <page-title-placeholder></page-title-placeholder>
            <br>
            <page-title-placeholder></page-title-placeholder>
        </section>
    </ng-container>
    <ng-template #notLoading>
        <ng-container *ngIf="currentLesson && currentCourse else NotFound">
            <header class="coding-bible-card">
                <page-title [title]="currentLesson?.name!"
                            [description]="currentLesson?.description!"></page-title>
            </header>
            <img src="../../../../assets/img/horizontal.png"
                 class="noShadow"
                 alt="">

            <section class="coding-bible-card htmlConent"
                     *ngIf="currentLesson?.htmlContent"
                     [innerHtml]="currentLesson?.htmlContent! |bypassStyle">

            </section>
            <section class="coding-bible-card d-flex flex-row flex-wrap justify-content-between">
                <button class="btn btn-orange"
                        [disabled]="currentLessonIndex<=0"
                        (click)="NextOrPrevious(-1)">Previous lesson</button>
                <button class="btn btn-orange"
                        [disabled]="currentLessonIndex>=ArrangedLessons.length-1"
                        (click)="NextOrPrevious(1)">Next lesson</button>
            </section>
            <section class="coding-bible-card lessonVideo"
                     *ngIf="currentLesson?.vedioUrl">
                <h2 class="d-flex">{{'Watch the video' | translate}}</h2>
                <youtube-container *ngIf="currentLesson?.vedioUrl"
                                   [videoId]="currentLesson?.vedioUrl?.split('watch?v=')![1]">
                </youtube-container>
            </section>
        </ng-container>
        <ng-template #NotFound>
            <div class="coding-bible-card mh-50vh d-flex flex-column gap-5 align-items-center justify-content-center">
                <ng-container *ngIf="!currentCourse else CourseButLesson">
                    <h1 class="page-h1">{{'Course not found'| translate}}</h1>
                    <p class="body-text">
                        {{"We can't find the course you are looking for"|translate}}</p>
                    <button [routerLink]="isArabic?['','ar',HomeRoutes.Courses.Home]:['',HomeRoutes.Courses.Home]"
                            class="btn btn-orange">{{'Back to courses'| translate}}</button>
                </ng-container>
                <ng-template #CourseButLesson>
                    <h1 class="page-h1">{{'Lesson not found'| translate}}</h1>
                    <p class="body-text">{{'The lesson you are looking for does not exist in this course'| translate}}
                    </p>
                    <button [routerLink]="isArabic?['','ar',HomeRoutes.Courses.Home,currentCourse?.slug]:
                                                            ['',HomeRoutes.Courses.Home,currentCourse?.slug]"
                            class="btn btn-orange">{{'Back to course'| translate}}</button>
                </ng-template>
            </div>
        </ng-template>
    </ng-template>

</ng-template>